{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./styles.css';import Header from\"../Header/index\";import Footer from\"../Footer/index\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const YelpSearch=()=>{const[location,setLocation]=useState('');const[term,setTerm]=useState('');const[businesses,setBusinesses]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(0);const resultsPerPage=9;const handleSearch=async()=>{try{const response=await axios.get('http://localhost:8080/api/yelp/search',{params:{location,term:term||'pet care'}});// Directly set businesses with response data\nsetBusinesses(response.data);setTotalPages(Math.ceil(response.data.length/resultsPerPage));setCurrentPage(1);}catch(error){console.error('Error fetching data:',error);}};const changePage=pageNumber=>{setCurrentPage(pageNumber);};const indexOfLastBusiness=currentPage*resultsPerPage;const indexOfFirstBusiness=indexOfLastBusiness-resultsPerPage;const currentBusinesses=businesses.slice(indexOfFirstBusiness,indexOfLastBusiness);// Generate page numbers\nconst pageNumbers=[];for(let i=1;i<=totalPages;i++){pageNumbers.push(i);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-care-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Find Pet Care Services\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search term (e.g., 'dog grooming')\",value:term,onChange:e=>setTerm(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location (e.g., 'San Francisco')\",value:location,onChange:e=>setLocation(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-provider-list\",children:currentBusinesses.length>0?currentBusinesses.map((business,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"provider-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:business.image_url,alt:business.name})}),/*#__PURE__*/_jsx(\"h2\",{children:business.name}),/*#__PURE__*/_jsx(\"p\",{children:business.address}),/*#__PURE__*/_jsx(\"p\",{children:business.phone}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"twitter-icon\"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"facebook-icon\"}),/*#__PURE__*/_jsx(\"i\",{className:\"instagram-icon\"})]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No results found\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:pageNumbers.map(number=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>changePage(number),children:number},number))})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default YelpSearch;","map":{"version":3,"names":["React","useState","axios","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","YelpSearch","location","setLocation","term","setTerm","businesses","setBusinesses","currentPage","setCurrentPage","totalPages","setTotalPages","resultsPerPage","handleSearch","response","get","params","data","Math","ceil","length","error","console","changePage","pageNumber","indexOfLastBusiness","indexOfFirstBusiness","currentBusinesses","slice","pageNumbers","i","push","children","className","type","placeholder","value","onChange","e","target","onClick","map","business","index","src","image_url","alt","name","address","phone","number"],"sources":["/Users/kevindiep/Documents/GitHub/Pet-Adoption-Matching/pet-491b/client/src/components/PetCare/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './styles.css';\nimport Header from \"../Header/index\";\nimport Footer from \"../Footer/index\";\n\nconst YelpSearch = () => {\n  const [location, setLocation] = useState('');\n  const [term, setTerm] = useState('');\n  const [businesses, setBusinesses] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const resultsPerPage = 9;\n\n  const handleSearch = async () => {\n    try {\n      const response = await axios.get('http://localhost:8080/api/yelp/search', {\n        params: { location, term: term || 'pet care' }\n      });\n      // Directly set businesses with response data\n      setBusinesses(response.data);\n      setTotalPages(Math.ceil(response.data.length / resultsPerPage));\n      setCurrentPage(1);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  const changePage = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  const indexOfLastBusiness = currentPage * resultsPerPage;\n  const indexOfFirstBusiness = indexOfLastBusiness - resultsPerPage;\n  const currentBusinesses = businesses.slice(indexOfFirstBusiness, indexOfLastBusiness);\n\n  // Generate page numbers\n  const pageNumbers = [];\n  for (let i = 1; i <= totalPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <>\n    <Header />\n    <div className=\"pet-care-container\">\n      \n      <h1>Find Pet Care Services</h1>\n\n      <div className=\"search-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Search term (e.g., 'dog grooming')\"\n          value={term}\n          onChange={(e) => setTerm(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Location (e.g., 'San Francisco')\"\n          value={location}\n          onChange={(e) => setLocation(e.target.value)}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n\n      <div className=\"horizontal-provider-list\">\n        {currentBusinesses.length > 0 ? (\n          currentBusinesses.map((business, index) => (\n            <div key={index} className=\"provider-card\">\n              <div className=\"image-container\">\n                <img src={business.image_url} alt={business.name} />\n              </div>\n              <h2>{business.name}</h2>\n              <p>{business.address}</p> \n              <p>{business.phone}</p> \n              <div>\n                {/* Placeholder for social media icons */}\n                <i className=\"twitter-icon\"></i> {/* Replace with actual icons */}\n                <i className=\"facebook-icon\"></i>\n                <i className=\"instagram-icon\"></i>\n              </div>\n            </div>\n          ))\n        ) : (\n          <p>No results found</p>\n        )}\n      </div>\n      <div className=\"pagination\">\n        {pageNumbers.map(number => (\n          <button key={number} onClick={() => changePage(number)}>\n            {number}\n          </button>\n        ))}\n      </div>\n    </div>\n    <Footer />\n    </>\n  );\n};\n\nexport default YelpSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}