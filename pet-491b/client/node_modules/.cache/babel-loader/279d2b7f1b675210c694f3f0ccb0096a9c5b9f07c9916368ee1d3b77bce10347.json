{"ast":null,"code":"import React,{useState}from'react';import'./styles.css';import Header from\"../Header/index\";import Footer from\"../Footer/index\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PetList=()=>{const[pets,setPets]=useState([]);const[searchLocation,setSearchLocation]=useState('');const[currentPage,setCurrentPage]=useState(1);const[petsPerPage]=useState(9);const[expandedPetId,setExpandedPetId]=useState(null);const handleToggleDescription=petId=>{setExpandedPetId(expandedPetId===petId?null:petId);};const handleSearchLocationChange=event=>{setSearchLocation(event.target.value);};const handleSearch=()=>{fetch(\"http://localhost:8080/api/pets?location=\".concat(encodeURIComponent(searchLocation))).then(response=>response.json()).then(data=>{setPets(data);setCurrentPage(1);// Reset to first page with new search\n}).catch(error=>console.error(error));};// Calculate total pages and current pets\nconst indexOfLastPet=currentPage*petsPerPage;const indexOfFirstPet=indexOfLastPet-petsPerPage;const currentPets=pets.slice(indexOfFirstPet,indexOfLastPet);const totalPages=Math.ceil(pets.length/petsPerPage);// Change page\nconst paginate=pageNumber=>setCurrentPage(pageNumber);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-list-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"searchLocation\",placeholder:\"Enter a location\",value:searchLocation,onChange:handleSearchLocationChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"vertical-pet-list\",children:currentPets.length>0?currentPets.map(pet=>/*#__PURE__*/_jsxs(\"div\",{className:\"pet-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:pet.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",pet.location]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:pet.images&&pet.images.length>0&&/*#__PURE__*/_jsx(\"img\",{src:pet.images[0],alt:\"Pet \".concat(pet.name)})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleDescription(pet.id),children:expandedPetId===pet.id?'Hide Description':'Show Description'}),expandedPetId===pet.id&&/*#__PURE__*/_jsx(\"p\",{className:\"pet-description\",children:pet.description})]},pet.id)):searchLocation&&/*#__PURE__*/_jsx(\"p\",{children:\"No pets found for the specified location.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:Array.from({length:totalPages},(_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>paginate(index+1),children:index+1},index+1))})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default PetList;","map":{"version":3,"names":["React","useState","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PetList","pets","setPets","searchLocation","setSearchLocation","currentPage","setCurrentPage","petsPerPage","expandedPetId","setExpandedPetId","handleToggleDescription","petId","handleSearchLocationChange","event","target","value","handleSearch","fetch","concat","encodeURIComponent","then","response","json","data","catch","error","console","indexOfLastPet","indexOfFirstPet","currentPets","slice","totalPages","Math","ceil","length","paginate","pageNumber","children","className","type","id","placeholder","onChange","onClick","map","pet","name","location","images","src","alt","description","Array","from","_","index"],"sources":["/Users/kevindiep/Documents/GitHub/Pet-Adoption-Matching/pet-491b/client/src/components/Pet/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles.css';\nimport Header from \"../Header/index\";\nimport Footer from \"../Footer/index\";\n\nconst PetList = () => {\n  const [pets, setPets] = useState([]);\n  const [searchLocation, setSearchLocation] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [petsPerPage] = useState(9);\n  const [expandedPetId, setExpandedPetId] = useState(null);\n\n  const handleToggleDescription = (petId) => {\n    setExpandedPetId(expandedPetId === petId ? null : petId);\n  };\n\n  const handleSearchLocationChange = (event) => {\n    setSearchLocation(event.target.value);\n  };\n\n  const handleSearch = () => {\n    fetch(`http://localhost:8080/api/pets?location=${encodeURIComponent(searchLocation)}`)\n      .then(response => response.json())\n      .then(data => {\n        setPets(data);\n        setCurrentPage(1); // Reset to first page with new search\n      })\n      .catch(error => console.error(error));\n  };\n\n  // Calculate total pages and current pets\n  const indexOfLastPet = currentPage * petsPerPage;\n  const indexOfFirstPet = indexOfLastPet - petsPerPage;\n  const currentPets = pets.slice(indexOfFirstPet, indexOfLastPet);\n  const totalPages = Math.ceil(pets.length / petsPerPage);\n\n  // Change page\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  return (\n    <>\n    <Header />\n    <div className=\"pet-list-container\">\n      <h1>Pet List</h1>\n      <div className=\"search-bar\">\n        <input\n          type=\"text\"\n          id=\"searchLocation\"\n          placeholder=\"Enter a location\"\n          value={searchLocation}\n          onChange={handleSearchLocationChange}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n      <div className=\"vertical-pet-list\">\n        {currentPets.length > 0 ? (\n          currentPets.map(pet => (\n            <div key={pet.id} className=\"pet-card\">\n              <h2>{pet.name}</h2>\n              <p>Location: {pet.location}</p>\n              <div className=\"image-container\">\n                {pet.images && pet.images.length > 0 && (\n                  <img src={pet.images[0]} alt={`Pet ${pet.name}`} />\n                )}\n              </div>\n              <button onClick={() => handleToggleDescription(pet.id)}>\n                {expandedPetId === pet.id ? 'Hide Description' : 'Show Description'}\n              </button>\n              {expandedPetId === pet.id && (\n                <p className=\"pet-description\">{pet.description}</p>\n              )}\n            </div>\n          ))\n        ) : (\n          searchLocation && <p>No pets found for the specified location.</p>\n        )}\n      </div>\n      <div className=\"pagination\">\n        {Array.from({ length: totalPages }, (_, index) => (\n          <button key={index + 1} onClick={() => paginate(index + 1)}>\n            {index + 1}\n          </button>\n        ))}\n      </div>\n    </div>\n    <Footer />\n    </>\n  );\n};\n\nexport default PetList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}